(function(){"use strict";var e={885:function(e,t,l){var i=l(144),o=l(726),n=l(149),r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,[t(n.Z,[t("CTop")],1)],1)},a=[],s=l(988),u=l(24),d=l(819),c=l(88),g=l(767),_=l(935),b=l(894),f=l(206),v=l(449),h=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(d.Z,{staticClass:"grey lighten-5"},[t("h1",[e._v("しあわせな毎日を送ろう")]),t("c-budget-dialog",{attrs:{pDialog:e.flagBudgetDialog},on:{budget:t=>{e.setBudget(t),e.openHolidayDialog(t)}}}),t("c-holiday-dialog",{attrs:{pDialog:e.flagHolidayDialog},on:{holiday:e.setHoliday}}),t("c-result-dialog",{attrs:{pDialog:e.flagResultDialog,positiveResult:e.positiveResult,negativeResult:e.negativeResult},on:{setPDialog:()=>{e.flagResultDialog=!1}}}),t(g.Z,{attrs:{value:e.inCalculation}},[t("h1",[e._v("計算中...")]),t(_.Z,{attrs:{indeterminate:"",color:"primary"}})],1),t(v.Z,{attrs:{label:"予算（円）"},model:{value:e.budget,callback:function(t){e.budget=t},expression:"budget"}}),t(v.Z,{attrs:{label:"休暇時間（hour）"},model:{value:e.holiday,callback:function(t){e.holiday=t},expression:"holiday"}}),t(s.Z,{on:{click:e.setTemplate}},[e._v("テンプレートを使う")]),t(s.Z,{on:{click:e.initList}},[e._v("リストを初期化する")]),t(s.Z,{on:{click:e.call}},[e._v("計算する")]),t(b.Z,{staticClass:"mb-6",attrs:{justify:"center","no-gutters":""}},[t(u.Z,[t(f.Z,{scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-left"},[e._v("行動")]),t("th",{staticClass:"text-left"},[e._v("消費時間（hour）")]),t("th",{staticClass:"text-left"},[e._v("必要経費（円）")]),t("th",{staticClass:"text-left"},[e._v("短期的幸福度（継続時間 hour）")]),t("th",{staticClass:"text-left"},[e._v("長期的幸福度（継続時間 月）")])])]),t("tbody",e._l(e.actions,(function(l){return t("tr",{key:l.id},[t("td",[t(v.Z,{attrs:{label:"行動"},model:{value:l.label,callback:function(t){e.$set(l,"label",t)},expression:"ent.label"}})],1),t("td",[t(v.Z,{attrs:{label:"消費時間（hour）",rules:[e.isNumber]},model:{value:l.required_time,callback:function(t){e.$set(l,"required_time",t)},expression:"ent.required_time"}})],1),t("td",[t(v.Z,{attrs:{label:"必要経費（円）",rules:[e.isNumber]},model:{value:l.required_cost,callback:function(t){e.$set(l,"required_cost",t)},expression:"ent.required_cost"}})],1),t("td",[t(v.Z,{attrs:{label:"短期的幸福度（継続時間 hour）",rules:[e.isNumber]},model:{value:l.wellbeing_short,callback:function(t){e.$set(l,"wellbeing_short",t)},expression:"ent.wellbeing_short"}})],1),t("td",[t(v.Z,{attrs:{label:"長期的幸福度（継続時間 月）",rules:[e.isNumber]},model:{value:l.wellbeing_long,callback:function(t){e.$set(l,"wellbeing_long",t)},expression:"ent.wellbeing_long"}})],1)])})),0)]},proxy:!0}])}),t(s.Z,{staticClass:"mx-2",attrs:{fab:"",dark:"",color:"indigo"},on:{click:e.addRow}},[t(c.Z,{attrs:{dark:""}},[e._v(" mdi-plus ")])],1)],1)],1)],1)},p=[],m=[{id:1,label:"勉強をする",required_cost:0,required_time:4,wellbeing_short:0,wellbeing_long:1},{id:2,label:"運動をする",required_cost:0,required_time:2,wellbeing_short:2,wellbeing_long:.5},{id:3,label:"ボランティアをする",required_cost:0,required_time:4,wellbeing_short:0,wellbeing_long:1},{id:4,label:"SNSをする",required_cost:0,required_time:1,wellbeing_short:1,wellbeing_long:0},{id:5,label:"昼寝をする",required_cost:0,required_time:1,wellbeing_short:1,wellbeing_long:0},{id:6,label:"小説を読む",required_cost:0,required_time:1,wellbeing_short:2,wellbeing_long:.5},{id:7,label:"マンガを読む",required_cost:0,required_time:1,wellbeing_short:2,wellbeing_long:0},{id:8,label:"テレビを観る",required_cost:0,required_time:1,wellbeing_short:1,wellbeing_long:0},{id:9,label:"プログラミングする",required_cost:0,required_time:1,wellbeing_short:2,wellbeing_long:.5},{id:10,label:"カフェでコーヒーを飲む",required_cost:500,required_time:1,wellbeing_short:2,wellbeing_long:0},{id:11,label:"ドライブに行く",required_cost:500,required_time:1,wellbeing_short:2,wellbeing_long:0},{id:12,label:"カラオケに行く",required_cost:1e3,required_time:2,wellbeing_short:2,wellbeing_long:0},{id:13,label:"美術館博物館に行く",required_cost:1e3,required_time:1,wellbeing_short:1,wellbeing_long:1},{id:14,label:"山登りに行く",required_cost:1e3,required_time:4,wellbeing_short:4,wellbeing_long:1},{id:15,label:"映画館に行く",required_cost:1500,required_time:3,wellbeing_short:3,wellbeing_long:1},{id:16,label:"ショッピングに行く",required_cost:3e3,required_time:4,wellbeing_short:4,wellbeing_long:0},{id:17,label:"友達と呑みに行く",required_cost:5e3,required_time:3,wellbeing_short:5,wellbeing_long:1},{id:18,label:"コンサートに行く",required_cost:7e3,required_time:3,wellbeing_short:6,wellbeing_long:2},{id:19,label:"ガジェットを買う",required_cost:2e4,required_time:1,wellbeing_short:12,wellbeing_long:1},{id:20,label:"旅行に行く",required_cost:8e4,required_time:48,wellbeing_short:96,wellbeing_long:6}],w=m,q=l(139),y=l(816),x=l(255),Z=l(184),k=l(515),D=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Z.Z,{attrs:{"max-width":"300px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(y.Z,[t(x.EB,[t("span",{staticClass:"text-h5"},[e._v("予算を入力しよう")])]),t(x.ZB,[t(d.Z,[t(b.Z,[t(u.Z,[t(v.Z,{attrs:{label:"予算(円)",rules:[e.isInteger],required:""},model:{value:e.budget,callback:function(t){e.budget=t},expression:"budget"}})],1)],1)],1)],1),t(x.h7,[t(k.Z),t(s.Z,{attrs:{color:"blue darken-1",text:""},on:{click:()=>{e.isInteger(e.budget)&&(e.dialog=!1,e.$emit("budget",e.budget))}}},[e._v(" OK ")])],1)],1)],1)},C=[],O=i.ZP.extend({name:"CBudgetDialog",props:{pDialog:{type:Boolean,default:!1,required:!0}},data:function(){return{dialog:this.pDialog,budget:void 0}},methods:{isInteger:function(e){const t=/^[-]?([1-9]\d*|0)$/;return t.test(e)}}}),R=O,j=l(1),P=(0,j.Z)(R,D,C,!1,null,null,null),B=P.exports,T=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Z.Z,{attrs:{"max-width":"300px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(y.Z,[t(x.EB,[t("span",{staticClass:"text-h5"},[e._v("休暇時間を入力しよう")])]),t(x.ZB,[t(d.Z,[t(b.Z,[t(u.Z,[t(v.Z,{attrs:{rules:[e.isInteger],label:"休暇時間(hour)",required:""},model:{value:e.holiday,callback:function(t){e.holiday=t},expression:"holiday"}})],1)],1)],1)],1),t(x.h7,[t(k.Z),t(s.Z,{attrs:{color:"blue darken-1",text:""},on:{click:()=>{e.isInteger(e.holiday)&&(e.dialog=!1,e.$emit("holiday",e.holiday))}}},[e._v(" OK ")])],1)],1)],1)},H=[],S=i.ZP.extend({name:"CHolidayDialog",props:{pDialog:{type:Boolean,default:!1,required:!0}},data:function(){return{dialog:this.pDialog,holiday:void 0}},methods:{isInteger:function(e){const t=/^[-]?([1-9]\d*|0)$/;return t.test(e)}},watch:{pDialog:function(e){console.log("watching pDialog"),this.dialog=e}}}),$=S,N=(0,j.Z)($,T,H,!1,null,null,null),I=N.exports,E=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Z.Z,{attrs:{"max-width":"600px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(y.Z,[t(x.EB,[t("span",{staticClass:"text-h5"},[e._v("結果")])]),t(x.ZB,[t(d.Z,[t(b.Z,[t(u.Z,[t("h2",[e._v("両得計画(悲観)")]),t(f.Z,{scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-left"},[e._v("行動")]),t("th",{staticClass:"text-left"},[e._v("時間")])])]),t("tbody",e._l(e.negativeResult,(function(l){return t("tr",{key:l.id},[t("td",[e._v(e._s(l.label))]),t("td",[e._v(e._s(l.time)+" H")])])})),0)]},proxy:!0}])})],1),t(u.Z,[t("h2",[e._v("バランス計画(楽観)")]),t(f.Z,{scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-left"},[e._v("行動")]),t("th",{staticClass:"text-left"},[e._v("時間")])])]),t("tbody",e._l(e.positiveResult,(function(l){return t("tr",{key:l.id},[t("td",[e._v(e._s(l.label))]),t("td",[e._v(e._s(l.time)+" H")])])})),0)]},proxy:!0}])})],1)],1)],1)],1),t(x.h7,[t(k.Z),t(s.Z,{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.$emit("setPDialog",!1)}}},[e._v(" OK ")])],1)],1)],1)},z=[],K=i.ZP.extend({name:"CResultDialog",props:{pDialog:{type:Boolean,default:!1,required:!0},negativeResult:{type:Object},positiveResult:{type:Object}},data:function(){return{dialog:this.pDialog,results:void 0}},watch:{pDialog:function(e){console.log("watching pDialog"),this.dialog=e}}}),L=K,M=(0,j.Z)(L,E,z,!1,null,null,null),A=M.exports,F=i.ZP.extend({name:"CTop",components:{CBudgetDialog:B,CHolidayDialog:I,CResultDialog:A},props:{},mounted:function(){this.initList(),this.load_solver()},data:function(){return{flagBudgetDialog:!0,flagHolidayDialog:!1,flagResultDialog:!1,actions:[],budget:1e5,holiday:96,solver:void 0,inCalculation:!1,positiveResult:void 0,negativeResult:void 0}},methods:{setTemplate:function(){this.actions=w},initList:function(){var e={id:1,label:"喫茶店でコーヒーを飲む",required_cost:600,required_time:1,wellbeing_short:1,wellbeing_long:1};this.actions=[e]},openHolidayDialog:function(){console.log("openHolidayDialog"),this.flagHolidayDialog=!0},setBudget:function(e){console.log("setBudget"),this.budget=e},setHoliday:function(e){console.log("setHoliday"),this.holiday=e},addRow:function(){var e=this.actions.map((function(e){return e.id})).reduce((function(e,t){return e>t?e:t}));this.actions.push({id:e+1,label:"",required_time:void 0,required_cost:void 0,wellbeing_long:void 0,wellbeing_short:void 0})},load_solver:function(){var e=this;(0,q.ve)("https://unpkg.com/javascript-lp-solver/prod/solver.js").then((function(){console.log("load"),e.solver=solver})).catch((function(){return console.log("err")}))},call:function(){var e=this;this.inCalculation=!0,setTimeout((function(){e.positiveResult=e.calc(e.calc_dea_positive(e.actions)),e.negativeResult=e.calc(e.calc_dea_negative(e.actions)),e.flagResultDialog=!0,e.inCalculation=!1}),3e3)},calc_dea_negative:function(e){var t=this,l=e.map((function(l,i){var o,n=Object.assign(t.dea_vars_u(e,i),t.dea_vars_v(e,i)),r={optimize:"target",opType:"min",constraints:{st_1:{equal:1},st_2:{max:0},st_3:{equal:1}},variables:n},a=null===(o=t.solver)||void 0===o?void 0:o.Solve(r);return l.score=a.result,l}));return l},calc_dea_positive:function(e){var t=this,l=e.map((function(l,i){var o,n=Object.assign(t.dea_vars_u(e,i),t.dea_vars_v(e,i)),r={optimize:"target",opType:"max",constraints:{st_1:{equal:1},st_2:{max:0}},variables:n},a=null===(o=t.solver)||void 0===o?void 0:o.Solve(r);return l.score=a.result,l}));return l},dea_vars_u:function(e,t){return{u_short:{st_2:e.map((function(e){return e.wellbeing_short})).reduce((function(e,t){return e+t})),target:e[t].wellbeing_short,st_3:e[0].wellbeing_short},u_long:{st_2:e.map((function(e){return e.wellbeing_long})).reduce((function(e,t){return e+t})),target:e[t].wellbeing_long,st_3:e[0].wellbeing_long}}},dea_vars_v:function(e,t){return{v_cost:{st_2:e.map((function(e){return e.required_cost})).reduce((function(e,t){return e+t})),st_1:e[t].required_cost},v_time:{st_2:-e.map((function(e){return e.required_time})).reduce((function(e,t){return e+t})),st_1:e[t].required_time}}},actions_obj:function(e){return e.reduce((function(e,t){return e[t.id]={label:t.label,score:t.score,required_cost:t.required_cost,required_time:t.required_time},e[t.id]["max_"+t.id]=t.required_time,e}),{})},ints:function(e){return e.reduce((function(e,t){return e[t.id]=1,e}),{})},calc:function(e){var t,l=this;console.log(e.map((function(e){return e.score})));var i=this.actions_obj(e),o=Object.assign({required_cost:{max:Number(this.budget),min:.9*Number(this.budget)},required_time:{equal:Number(this.holiday)}},e.reduce((function(e,t){return e["max_"+t.id]={max:l.holiday/5},e}),{})),n=this.ints(e);console.log(i),console.log(o),console.log(n);var r={optimize:"score",opType:"max",constraints:o,variables:i,ints:n,options:{timeout:1e4}},a=null===(t=this.solver)||void 0===t?void 0:t.Solve(r),s=Object.keys(a).reduce((function(e,t){if(t in i){var l=t;e[l]={label:i[l].label,times:a[t],time:a[t]*i[l].required_time}}return e}),{});return s},isNumber:function(e){var t=/^[-]?([1-9]\d*|0)(\.\d+)?$/;return t.test(e)}}}),G=F,J=(0,j.Z)(G,h,p,!1,null,null,null),Q=J.exports,U=i.ZP.extend({name:"App",components:{CTop:Q},data:function(){return{}}}),V=U,W=(0,j.Z)(V,r,a,!1,null,null,null),X=W.exports,Y=l(154);i.ZP.use(Y.Z);var ee=new Y.Z({});i.ZP.config.productionTip=!1,new i.ZP({vuetify:ee,render:function(e){return e(X)}}).$mount("#app")}},t={};function l(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,l),n.exports}l.m=e,function(){var e=[];l.O=function(t,i,o,n){if(!i){var r=1/0;for(d=0;d<e.length;d++){i=e[d][0],o=e[d][1],n=e[d][2];for(var a=!0,s=0;s<i.length;s++)(!1&n||r>=n)&&Object.keys(l.O).every((function(e){return l.O[e](i[s])}))?i.splice(s--,1):(a=!1,n<r&&(r=n));if(a){e.splice(d--,1);var u=o();void 0!==u&&(t=u)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[i,o,n]}}(),function(){l.d=function(e,t){for(var i in t)l.o(t,i)&&!l.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};l.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,n,r=i[0],a=i[1],s=i[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(o in a)l.o(a,o)&&(l.m[o]=a[o]);if(s)var d=s(l)}for(t&&t(i);u<r.length;u++)n=r[u],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(d)},i=self["webpackChunkwellbeing"]=self["webpackChunkwellbeing"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=l.O(void 0,[998],(function(){return l(885)}));i=l.O(i)})();
//# sourceMappingURL=app.52e0f06b.js.map